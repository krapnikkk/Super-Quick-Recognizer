'use strict';hb("mr.TestProvider");var Cw,jw,Dw=hb("mr.Init"),mda=function(a){void 0!==a.use_views_dialog&&Dw.info("Using the "+(a.use_views_dialog?"Views (Harmony)":"WebUI")+" dialog.");void 0!==a.enable_cast_sink_query&&Dw.info("Native Cast MRP is "+(a.enable_cast_sink_query?"disabled":"enabled")+".");void 0!==a.enable_dial_sink_query&&Dw.info("Native DIAL MRP is "+(a.enable_dial_sink_query?"disabled":"enabled")+".");void 0!==a.use_mirroring_service&&Dw.info("Native Mirroring Service is "+(a.use_mirroring_service?"enabled":"disabled")+
".")};Tr().init();Cw=new xb("MediaRouter.Provider.WakeDuration");jw=new uw;
var nda=(new Promise(function(a,c){switch(window.location.host){case "enhhojjnijigcajfphajepfemndkmdlo":a();break;case "pkedcjkdefgpdelpbcmbmeomcjbeemfm":chrome.management.get("enhhojjnijigcajfphajepfemndkmdlo",function(b){chrome.runtime.lastError||!b.enabled?a():c(Error("Dev extension is enabled"))});break;default:c(Error("Unknown extension id"))}})).then(function(){return chrome.mojoPrivate&&chrome.mojoPrivate.requireAsync?new Promise(function(a){chrome.mojoPrivate.requireAsync("media_router_bindings").then(function(c){mojo=c.getMojoExports&&
c.getMojoExports();c.start().then(function(b){a({mrService:c,mrInstanceId:b.instance_id||b,mrConfig:b.config})})})}):Promise.reject(Error("No mojo service loaded"))}).then(function(a){if(!a.mrService)throw Error("Failed to get MR service");var c=a.mrInstanceId;if(!c)throw Error("Failed to get MR instance ID.");Dw.info("MR instance ID: "+c);mda(a.mrConfig);var b=a.mrService;if(!jw)throw Error("providerManager not initialized.");b.setHandlers(jw);jm(c)&&(Cw.b="MediaRouter.Provider.FirstWakeDuration");
chrome.runtime.onSuspend.addListener(Cw.end.bind(Cw));nm(c);Iaa();c=cda();window.addEventListener("unhandledrejection",function(d){d=d.reason;d.stack||(d=Error(d));Dw.error("Unhandled promise rejection.",d)});jw.initialize(b,c,a.mrConfig)}).then(void 0,function(a){Dw.H(a.message);throw a;});[].concat(n([iw(),fw()].concat(n(Kp()),n([ou(),ku()])))).forEach(function(a){hm(a)});iw().addListener();fw().addListener();chrome.runtime.onStartup.addListener(function(){});nda.then(void 0,function(){return window.close()});
